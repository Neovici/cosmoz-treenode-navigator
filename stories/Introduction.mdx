import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Introduction" />

# Cosmoz Treenode Navigator

A PionJS component for navigating, searching, and selecting nodes in a hierarchical tree structure.

## Components

- [CosmozTreenodeButtonView](?path=/story/components-cosmoztreenodebuttonview--default) — A trigger button that opens a dialog with the navigator. This is the main component most consumers will use.
- [CosmozTreenodeNavigator](?path=/story/components-cosmoztreenodenavigator--default) — The inner navigator for browsing and searching the tree. Can also be used standalone.

## Features

- Navigate through hierarchical tree structures
- Search within the current level or globally
- Keyboard navigation (arrow keys, Enter to select)
- Container query support — graceful degradation in narrow layouts
- Select and Cancel dialog flow with explicit confirmation
- Internationalization via `i18next.t()`
- Reset selection option (opt-in via `show-reset`)

## Quick Start

```js
import i18next from 'i18next';
import { component, html } from '@pionjs/pion';
import '@neovici/cosmoz-treenode-navigator/cosmoz-treenode-button-view';
import { DefaultTree } from '@neovici/cosmoz-tree';

i18next.init({ lng: 'en', resources: {} });

const tree = new DefaultTree(treeData);

const MyApp = () => html`
  <cosmoz-treenode-button-view
    .tree=${tree}
    show-reset
    @node-path-changed=${(e) => console.log('Selected:', e.detail.value)}
  ></cosmoz-treenode-button-view>
`;

customElements.define('my-app', component(MyApp));
```

## Internationalization

All UI text is managed via `i18next.t()` with English text as translation keys. Load translations with `i18next.addResourceBundle()`:

| Key | Used in |
|-----|---------|
| `Select a node` | Button placeholder |
| `Search or navigate to chosen destination` | Dialog heading |
| `Search...` | Search input placeholder |
| `Click to search again but globally` | Global search button |
| `Select` | Confirm button |
| `Cancel` | Cancel button |
